/* native-js-libs - v1.2.2 */
var indexOf=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},slice=[].slice;Array.prototype.find||(Array.prototype.find=function(t){var e,n,i,o,r;if(!this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(i=Object(this),n=i.length>>>0,o=arguments[1],r=void 0,e=0;e<n;){if(r=i[e],t.call(o,r,e,i))return r;e++}}),Array.prototype.findIndex||(Array.prototype.findIndex=function(t){var e,n,i,o,r;if(!this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(i=Object(this),n=i.length>>>0,o=arguments[1],r=void 0,e=0;e<n;){if(r=i[e],t.call(o,r,e,i))return e;e++}return-1}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n,i;return i=this.toString(),("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>i.length)&&(e=i.length),e-=t.length,n=i.indexOf(t,e),n!==-1&&n===e}),function(){var t;return null==window._clickEventCache&&(window._clickEventCache=[]),t=Element.prototype.addEventListener,Element.prototype.addEventListener=function(){var e;return("click"===(e=arguments[0])||"touchend"===e)&&indexOf.call(window._clickEventCache,this)<0&&window._clickEventCache.push(this),t.apply(this,arguments)}}(),function(){var t,e,n;return e=[],n=!1,t=function(i){return i?(n=!0,i.call(),setTimeout(function(){return t(e.shift())},10)):n=!1},null==window.addGtTask&&(window.addGtTask=function(i){return n?e.push(i):t(i)}),null!=window.callGtNative?window.callGtNative:window.callGtNative=function(t){var e;t.indexOf("native://=")>-1&&(window.GtConfig.isIOS?(e=document.createElement("iframe"),e.setAttribute("src","http://"+t),document.documentElement.appendChild(e),e.parentNode.removeChild(e),e=null):"undefined"!=typeof Android&&null!==Android&&Android.callNative(t))}}(),window.GtConfig=function(){var t;return t=/Android|iPhone|iPad|iPod/i.test(window.navigator.userAgent),{HIGHLIGHTCLASS:"gt-highlight",NOTECLASS:"gt-note-highlight",SEARCHCLASS:"gt-search-highlight",isMobile:t,isIOS:/iPhone|iPad|iPod/i.test(window.navigator.userAgent),isAndroid:/(android)/i.test(window.navigator.userAgent),click:t?"touchend":"click",mousedown:t?"touchstart":"mousedown",mouseup:t?"touchend":"mouseup"}}(),window.Tools=function(){var t,e,n,i,o;return e=JSON.parse('[{"name":"sepia","label":{"fr":"Sépia","en":"Sepia"},"backgroundColor":"#F5EFDC","fontColor":"#34495E"},{"name":"positive","label":{"fr":"Positif","en":"Positive"},"backgroundColor":"#FFFFFF","fontColor":"#34495E"},{"name":"negative","label":{"fr":"Négatif","en":"Negative"},"backgroundColor":"#000000","fontColor":"#7B98B6"}]'),n=null,i=null,t=null,o=function(){var t;return t=document.createElement("style"),document.head.appendChild(t)},{repaint:function(){var t;return t=document.body.style.display,document.body.style.display="table",document.body.offsetWidth,document.body.style.display=t,!0},stopMedias:function(){var t,e,n,i;for(i=document.querySelectorAll("video, audio"),t=0,e=i.length;t<e;t++)n=i[t],n.pause()},androidCallback:function(){var t,e,n,i,o,r;return e=arguments[0],t=arguments[1],n=3<=arguments.length?slice.call(arguments,2):[],r=null!=(i=window[e])&&null!=(o=i[t])?o.apply(window,n):void 0,window.Android.callback(e,t,r)},getElementRect:function(t){var e;return e=document.getElementById(t).getBoundingClientRect(),JSON.stringify(e)},setFontFamily:function(t){var e;return e="* { font-family: "+t+" !important; }",null==n&&(n=o()),n.innerText=e},resetFontFamily:function(){var t;return null!=n&&null!=(t=n.parentElement)&&t.removeChild(n),n=null},setFontSize:function(t){var e;return e="* { font-size: "+t+" !important; }",null==i&&(i=o()),i.innerText=e},resetFontSize:function(){var t;return null!=i&&null!=(t=i.parentElement)&&t.removeChild(i),i=null},setContrast:function(n){var i,r;return i=e.find(function(t){return(null!=t?t.name:void 0)===n}),r="*:not(.gt-highlight, .gt-hilitor) { background-color: "+i.backgroundColor+" !important; color: "+i.fontColor+" !important; }","negative"===i.name&&(r+="img{ -webkit-filter: grayscale(100%) invert(100%) !important; filter: grayscale(100%) invert(100%) !important; }"),null==t&&(t=o()),t.innerText=r},resetContrast:function(){var e;return null!=t&&null!=(e=t.parentElement)&&e.removeChild(t),t=null},cancelTextOnMediaAlt:function(){var t,e,n,i;for(e=document.querySelectorAll("div.alt-text-preview, span.gt-text-to-speech-icon"),n=0,i=e.length;n<i;n++)t=e[n],t.parentElement.removeChild(t)},testAudioforAltMedia:function(t,e,n,i){var o,r;null==t&&(t="fr"),o=new SpeechSynthesisUtterance,r=window.speechSynthesis.getVoices(),o.voice=r[0],o.voiceURI="native",o.volume=e>=0?e:.5,o.rate=n>=0?n:.5,o.pitch=1,o.lang="en"===t?"en-US":"fr-FR",o.text=i,window.speechSynthesis.speak(o)},initTextAltOnMedia:function(t,e,n){var i,o,r,a,l,c,d,u,s,p,h,f,g;for(null==t&&(t="fr"),r=null,window.GtConfig.isMobile||(h=new SpeechSynthesisUtterance,g=window.speechSynthesis.getVoices(),h.voice=g[0],h.voiceURI="native",h.volume=e>=0?e:.5,h.rate=n>=0?n:.5,h.pitch=1,h.lang="en"===t?"en-US":"fr-FR",h.onerror=function(){return r.classList.remove("speaking"),r=null},h.onend=function(){return r.classList.remove("speaking"),r=null}),l=function(t){var e;return window.GtConfig.isMobile?(e=function(){var e,n;return e={method:"text2speech",params:{text:t}},n=encodeURIComponent(JSON.stringify(e)),window.callGtNative("native://="+n),r.classList.remove("speaking"),r=null},window.addGtTask(e)):(h.text=t,window.speechSynthesis.speak(h))},u=function(t,e){return t=t.parentElement,t.classList.contains(e)?t=t.parentElement:u(t,e)},o=function(t,e){var n,i;return n=document.createElement("span"),i=document.createElement("span"),n.classList.add("gt-text-to-speech-icon"),t.appendChild(n),n.addEventListener("click",function(){if(!r)return r=n,r.classList.add("speaking"),l(e)},!1)},f=document.createElement("style"),f.innerText=".gt-text-to-speech-icon { background: transparent; position: absolute; border-radius: 20px; cursor: pointer; right: -10%; top: 43%; } .gt-text-to-speech-icon:before { content: ''; width: 10px; height: 10px; position: absolute; background: #0b60a7; top: 50%; left: 50%; margin-left: -4px; margin-top: -3px; } .gt-text-to-speech-icon.speaking:before { background: blue; } .gt-text-to-speech-icon:after { content: ''; width: 9; height: 9; position: absolute; border: 6px solid transparent; border-right-color: #0b60a7; top: -2px; margin-top: -6px; left: -12px; } .gt-text-to-speech-icon.speaking:after { border-right-color: blue; } .alt-text-preview { background-color: #eee; border: 1px solid black; margin: 0 auto; word-wrap: break-word; padding: 12px; position: relative; max-width: 850px } .alt-text-content { margin-top: 15px; }",document.head.appendChild(f),i=function(t){var e,n,i,r,a,l,c;e=t.getAttribute("alt"),e&&(c=document.createElement("div"),c.classList.add("alt-text-preview"),n=document.createElement("p"),n.classList.add("alt-text-content"),n.textContent=e,i=document.createElement("p"),i.textContent="Alternative text: ",l=document.createElement("span"),l.style.position="absolute",l.style.top="5px",l.style.margin-(r="5px"),l.appendChild(i),o(l,e),c.appendChild(l),c.appendChild(n),a=u(t,"gt-content"),a.appendChild(c))},a=function(){var t,e,n,i;for(i=document.querySelectorAll("div.alt-text-preview"),e=0,n=i.length;e<n;e++)t=i[e],t.parentElement.removeChild(t)},d=document.querySelectorAll("img[alt], video[alt], audio[alt]"),a(),s=0,p=d.length;s<p;s++)c=d[s],i(c)},initImageAccessibility:function(){var t,e,n,i,o,r,a;for(e=document.querySelectorAll("img"),t=0,n=e.length,o="data-au-button";t<n;)i=e[t].parentElement,void 0!==i&&i.hasAttribute(o)!==!1||(r=0,a=0,e[t].addEventListener("touchstart",function(t){var e;e=t.changedTouches[0],r=parseInt(e.clientX),a=parseInt(e.clientY)},!1),e[t].addEventListener("touchend",function(t){var e,n,i;if(i=t.changedTouches[0],!(Math.abs(r-parseInt(i.clientX))>3||Math.abs(a-parseInt(i.clientY))>3))return e={method:"openImage",params:{link:this.src,title:this.title,legend:this.alt}},n=encodeURIComponent(JSON.stringify(e)),window.callGtNative("native://="+n)},!1)),t++}}}();